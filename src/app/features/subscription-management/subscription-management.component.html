<h3 class="m-3">SUBSCRIPTIONS MANAGEMENT</h3>
<form [formGroup]="filtersForm" autocomplete="off" (ngSubmit)="submitFilter()">
  <div class="w-full m-3 flex flex-row flex-nowrap justify-between">
    <igx-combo [data]="windfarms" formControlName="windfarms">
      <label [for]="'windfarms'" class="comboLabel" igxLabel> Windfarms </label>
    </igx-combo>
    <igx-combo [data]="devices" formControlName="devices">
      <label [for]="'devices'" class="comboLabel" igxLabel> Devices </label>
    </igx-combo>
    <igx-combo [data]="resolutions" formControlName="resolution">
      <label [for]="'resolution'" class="comboLabel" igxLabel>
        Resolution
      </label>
    </igx-combo>
    <igx-combo [data]="signals" formControlName="signals">
      <label [for]="'signals'" class="comboLabel" igxLabel> Signals </label>
    </igx-combo>
    <igx-date-range-picker
      formControlName="fromTo"
      inputFormat="dd/MM/yyyy"
      displayFormat="dd/MM/yyyy"
    ></igx-date-range-picker>
    <button
      type="submit"
      igxButton="contained"
      [disabled]="filtersForm.invalid"
    >
      Search
    </button>
  </div>
</form>
<igx-grid
  class="m-3 h-96 w-full"
  [primaryKey]="'name'"
  [data]="filterSubscriptions"
>
  <igx-column field="windfarms" header="Windfarms"></igx-column>
  <igx-column field="devices" header="Devices"></igx-column>
  <igx-column field="resolution" header="Resolution"></igx-column>
  <igx-column field="signals" header="Signals"></igx-column>
  <igx-column field="from" header="Date From"></igx-column>
  <igx-column field="to" header="Date To"></igx-column>
  <igx-action-strip #actionstrip>
    <button title="View" igxIconButton="flat" igxRipple>
      <!-- (click)="delete(actionstrip.context.data.name)" -->
      <igx-icon>view</igx-icon>
    </button>
    <button title="Delete" igxIconButton="flat" igxRipple>
      <!-- (click)="delete(actionstrip.context.data.name)" -->
      <igx-icon>delete</igx-icon>
    </button>
  </igx-action-strip>
</igx-grid>
<button
  class="add-subscription__button"
  igxButton="raised"
  (click)="addDialog.open()"
>
  Add
</button>
<igx-dialog #addDialog [closeOnOutsideSelect]="false">
  <igx-dialog-title class="add-subscription__dialog">
    <div class="title-container">
      <div class="dialog-title">Add subscription</div>
    </div>
  </igx-dialog-title>
  <app-add
    (addButtonClicked)="onAddSubscriptionClicked($event)"
    (cancelButtonClicked)="addDialog.close()"
  ></app-add>
</igx-dialog>
